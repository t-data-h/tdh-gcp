---
- hosts: master01
  gather_facts: false
  tasks:
    - name: Include common vars
      ansible.builtin.include_vars: 'roles/common/vars/main.yml'
    - name: mkdir /hive/warehouse
      ansible.builtin.shell: '{{ tdh_install_path }}/hadoop/bin/hdfs dfs -mkdir -p /hive/warehouse/default'
    - name: mkdir /user/hdfs
      ansible.builtin.shell: '{{ tdh_install_path }}/hadoop/bin/hdfs dfs -mkdir -p /user/hdfs'
    - name: mkdir /user/hive
      ansible.builtin.shell: '{{ tdh_install_path }}/hadoop/bin/hdfs dfs -mkdir -p /user/hive'
    - name: mkdir /hbase
      ansible.builtin.shell: '{{ tdh_install_path }}/hadoop/bin/hdfs dfs -mkdir -p /hbase'
    - name: mkdir /tmp/logs
      ansible.builtin.shell: '{{ tdh_install_path }}/hadoop/bin/hdfs dfs -mkdir -p /tmp/logs'
    - name: mkdir /user/spark
      ansible.builtin.shell: '{{ tdh_install_path }}/hadoop/bin/hdfs dfs -mkdir -p /user/spark/jars'
    - name: mkdir /tmp/spark
      ansible.builtin.shell: '{{ tdh_install_path }}/hadoop/bin/hdfs dfs -mkdir -p /tmp/spark/applicationHistory'
    - name: mkdir users home
      ansible.builtin.shell: '{{ tdh_install_path }}/hadoop/bin/hdfs dfs -mkdir /user/{{ lookup("env", "USER") }}'
